<!-- KÃ´rÃ¨ Cyber Labs Â· Bamako (Careers) -->
<div class="hero">
  <div class="hero-inner">
    <div class="brand">
      <div class="logo"></div>
      <div class="brand-meta">
        <h1>La Maison Du Cyber</h1>
        <p class="tag">Bamako â€¢ Defensive Security â€¢ Cloud & AppSec</p>
      </div>
    </div>

    <div class="hero-cta">
      <span class="badge">Nous recrutons</span>
      <span class="sep"></span>
      <span class="pill">Stage â€¢ CDI â€¢ Junior</span>
    </div>
  </div>
</div>

<div class="page">
  <!-- Colonne principale -->
  <section class="card main">
    <h2>DÃ©pÃ´t de candidature</h2>
    <p class="subtitle">
      DÃ©pose ton email, un court message et ton CV (PDF). Notre Ã©quipe sÃ©curitÃ© revient vers toi rapidement.
    </p>

    <!-- Drag & drop + input -->
    <div class="dropzone"
         (dragover)="onDragOver($event)"
         (dragleave)="onDragLeave($event)"
         (drop)="onDrop($event)"
         [class.over]="dragOver">
      <input class="file-input" type="file" accept="application/pdf" (change)="onFile($event)">
      <div class="dropzone-content">
        <div class="dz-icon">â¬†</div>
        <div>
          <strong>Glisse ton CV ici</strong> ou <span class="link">clique pour parcourir</span><br>
          <span class="hint">PDF uniquement â€¢ 10 Mo max</span>
        </div>
      </div>
    </div>

    <!-- Formulaire -->
    <form (ngSubmit)="submit()">
      <input type="email"
             [(ngModel)]="email"
             name="email"
             placeholder="Email du candidat"
             required />

      <textarea
        [(ngModel)]="message"
        name="message"
        placeholder="Message (optionnel) â€“ motivations, stack, projets..."
        rows="4"
      ></textarea>

      <div class="file-chip" *ngIf="file">
        <span class="dot"></span>
        {{ file.name }}
      </div>

      <button type="submit" [disabled]="!email || !file || loading">
        {{ loading ? 'Envoiâ€¦' : 'Envoyer la candidature' }}
      </button>
    </form>

    <!-- Progression upload -->
    <div class="progress" *ngIf="loading">
      <div class="bar" [style.width.%]="progress"></div>
      <span class="pct">{{progress}}%</span>
    </div>

    <!-- Liste candidats -->
    <div class="list" *ngIf="candidates && candidates.length > 0">
      <h3>Candidatures reÃ§ues</h3>

      <div class="item" *ngFor="let c of candidates">
        <div class="avatar">{{ c.email | slice:0:1 | uppercase }}</div>
        <div class="meta">
          <div class="top">
            <span class="email">{{ c.email }}</span>
            <span class="badge soft">PDF</span>
          </div>
          <div class="info">
            <span class="file">{{ c.filename }}</span>
            <span class="dot"></span>
            <span class="time">{{ c.uploadedAt | date:'short' }}</span>
          </div>
          <div class="msg" *ngIf="c.messageText">{{ c.messageText }}</div>
        </div>

        <div class="actions">
          <button class="ghost" (click)="download(c.id)">TÃ©lÃ©charger</button>
          <button class="danger ghost" (click)="remove(c.id)">Supprimer</button>
        </div>
      </div>
    </div>

    <p *ngIf="!candidates || candidates.length === 0" class="subtitle empty">
      Aucun candidat pour lâ€™instant. Sois le premier Ã  rejoindre lâ€™aventure ğŸ‡²ğŸ‡±
    </p>
  </section>

  <!-- Colonne latÃ©rale / vitrine -->
  <aside class="card side">
    <h3>Pourquoi nous rejoindre ?</h3>
    <ul class="bullets">
      <li>ğŸ” Projets concrets en AppSec & Cloud (GCP, WIF, Secret Manager)</li>
      <li>ğŸ§  Mentorat Blue Team & Offensive Labs</li>
      <li>â˜ï¸ DÃ©ploiements modernes (Cloud Run + Cloud SQL)</li>
      <li>ğŸŒ Impact local : Ã©cosystÃ¨me tech Mali</li>
    </ul>

    <div class="divider"></div>

    <h4>Stacks & sujets</h4>
    <div class="chips">
      <span>Audit</span><span>Pentest</span><span>GRC</span>
      <span>Cloud</span><span>DevSecOps</span><span>CI/CD</span>
      <span>Cloud Security</span>
    </div>

    <div class="note">
      Tu peux aussi nous Ã©crire : <strong>sidigano8@gmail.com</strong>
    </div>
  </aside>
</div>

<footer class="foot">
  Â© {{year}} La Maison Du Cyber â€” â€œSÃ©curiser par notre organisationâ€
</footer>
